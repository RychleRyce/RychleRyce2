<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rychl√© R√Ωƒçe - Zahradn√≠ pr√°ce</title>
    <link rel="stylesheet" href="style.css">
    <!-- Leaflet CSS pro mapy -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <!-- Font Awesome pro ikony -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Hlavn√≠ navigace -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2>üå± Rychl√© R√Ωƒçe</h2>
            </div>
            <div class="nav-menu" id="nav-menu">
                <a href="#home" class="nav-link">Dom≈Ø</a>
                <a href="#about" class="nav-link">O n√°s</a>
                <a href="#services" class="nav-link">Slu≈æby</a>
                <a href="#contact" class="nav-link">Kontakt</a>
                <div class="nav-auth">
                    <button class="btn-secondary" onclick="showLogin()">P≈ôihl√°≈°en√≠</button>
                    <button class="btn-admin" onclick="showAdminLogin()">Admin</button>
                </div>
            </div>
            <div class="hamburger" id="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Hlavn√≠ sekce -->
    <main id="main-content" role="main">
        <!-- Hero sekce -->
        <section id="home" class="hero">
            <div class="hero-container">
                <div class="hero-content">
                    <h1 class="hero-title">Rychl√© R√Ωƒçe</h1>
                    <p class="hero-subtitle">Pot≈ôebujete pomoc na zahradƒõ? Vyfo≈•te, co pot≈ôebujete, a my to za≈ô√≠d√≠me.</p>
                    <div class="hero-buttons">
                        <button class="btn-primary" onclick="showRegister('zakaznik')">
                            <span class="btn-icon">üë§</span>
                            Registrace z√°kazn√≠ka
                        </button>
                        <button class="btn-outline" onclick="showRegister('brigadnik')">
                            <span class="btn-icon">üîß</span>
                            Registrace brig√°dn√≠ka
                        </button>
                    </div>
                </div>
                <div class="hero-image">
                    <div class="hero-card">
                        <div class="card-icon">üåø</div>
                        <h3>Rychl√© ≈ôe≈°en√≠</h3>
                        <p>Najdƒõte brig√°dn√≠ka pro va≈°i zahradu bƒõhem nƒõkolika minut</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- O n√°s sekce -->
        <section id="about" class="about">
            <div class="container">
                <h2 class="section-title">Jak to funguje?</h2>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <h3>Vyfo≈•te pr√°ci</h3>
                        <p>Nahrajte fotku toho, co pot≈ôebujete udƒõlat na zahradƒõ</p>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <h3>AI anal√Ωza</h3>
                        <p>N√°≈° AI syst√©m analyzuje obr√°zek a odhadne cenu</p>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <h3>Najdƒõte brig√°dn√≠ka</h3>
                        <p>Schv√°len√≠ brig√°dn√≠ci si mohou vz√≠t va≈°i zak√°zku</p>
                    </div>
                    <div class="step">
                        <div class="step-number">4</div>
                        <h3>Zapla≈•te bezpeƒçnƒõ</h3>
                        <p>Plat√≠te 1/3 p≈ôedem, zbytek po dokonƒçen√≠ pr√°ce</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Slu≈æby sekce -->
        <section id="services" class="services">
            <div class="container">
                <h2 class="section-title">Na≈°e slu≈æby</h2>
                <div class="services-grid">
                    <div class="service-card">
                        <div class="service-icon">üå±</div>
                        <h3>Sek√°n√≠ tr√°vy</h3>
                        <p>Profesion√°ln√≠ p√©ƒçe o v√°≈° tr√°vn√≠k</p>
                    </div>
                    <div class="service-card">
                        <div class="service-icon">üé®</div>
                        <h3>Nat√≠r√°n√≠ plotu</h3>
                        <p>Ochrana a zkr√°≈°len√≠ va≈°eho plotu</p>
                    </div>
                    <div class="service-card">
                        <div class="service-icon">‚úÇÔ∏è</div>
                        <h3>St≈ô√≠h√°n√≠ ke≈ô≈Ø</h3>
                        <p>Tvarov√°n√≠ a √∫dr≈æba zahradn√≠ch ke≈ô≈Ø</p>
                    </div>
                    <div class="service-card">
                        <div class="service-icon">üå∏</div>
                        <h3>Zahradn√≠ √∫pravy</h3>
                        <p>Kompletn√≠ p√©ƒçe o va≈°i zahradu</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Mod√°ln√≠ okna -->
    <!-- P≈ôihl√°≈°en√≠ -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>P≈ôihl√°≈°en√≠</h2>
                <span class="close" onclick="closeModal('loginModal')">&times;</span>
            </div>
            <form id="loginForm" class="form">
                <div class="form-group">
                    <label for="loginEmail">Email:</label>
                    <input type="email" id="loginEmail" name="email" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Heslo:</label>
                    <div class="password-input">
                        <input type="password" id="loginPassword" name="password" required>
                        <button type="button" class="password-toggle" onclick="togglePassword('loginPassword')">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                <button type="submit" class="btn-primary">P≈ôihl√°sit se</button>
                <p class="form-link">Nem√°te √∫ƒçet? <a href="#" onclick="closeModal('loginModal'); showRegister('zakaznik')">Registrujte se</a></p>
            </form>
        </div>
    </div>

    <!-- Admin p≈ôihl√°≈°en√≠ -->
    <div id="adminLoginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Admin p≈ôihl√°≈°en√≠</h2>
                <span class="close" onclick="closeModal('adminLoginModal')">&times;</span>
            </div>
            <form id="adminLoginForm" class="form">
                <div class="form-group">
                    <label for="adminEmail">Email:</label>
                    <input type="email" id="adminEmail" name="email" value="rychleryce@gmail.com" required>
                </div>
                <div class="form-group">
                    <label for="adminPassword">Heslo:</label>
                    <div class="password-input">
                        <input type="password" id="adminPassword" name="password" required>
                        <button type="button" class="password-toggle" onclick="togglePassword('adminPassword')">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                <button type="submit" class="btn-primary">P≈ôihl√°sit jako admin</button>
            </form>
        </div>
    </div>

    <!-- Registrace -->
    <div id="registerModal" class="modal">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h2 id="registerTitle">Registrace</h2>
                <span class="close" onclick="closeModal('registerModal')">&times;</span>
            </div>
            <form id="registerForm" class="form">
                <!-- Z√°kladn√≠ √∫daje -->
                <div class="form-section">
                    <h3>Z√°kladn√≠ √∫daje</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="registerJmeno">Jm√©no:</label>
                            <input type="text" id="registerJmeno" name="jmeno" required>
                        </div>
                        <div class="form-group">
                            <label for="registerPrijmeni">P≈ô√≠jmen√≠:</label>
                            <input type="text" id="registerPrijmeni" name="prijmeni" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="registerTelefon">Telefon:</label>
                        <input type="tel" id="registerTelefon" name="telefon" required>
                    </div>
                    <div class="form-group">
                        <label for="registerEmail">Email:</label>
                        <input type="email" id="registerEmail" name="email" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="registerPassword">Heslo:</label>
                            <div class="password-input">
                                <input type="password" id="registerPassword" name="password" required>
                                <button type="button" class="password-toggle" onclick="togglePassword('registerPassword')">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="registerConfirmPassword">Potvrdit heslo:</label>
                            <div class="password-input">
                                <input type="password" id="registerConfirmPassword" name="confirm_password" required>
                                <button type="button" class="password-toggle" onclick="togglePassword('registerConfirmPassword')">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Specifick√© √∫daje pro brig√°dn√≠ky -->
                <div id="brigadnikFields" class="form-section hidden">
                    <h3>√ödaje brig√°dn√≠ka</h3>
                    <div class="form-group">
                        <label for="registerNaradi">Jak√© m√°te n√°≈ôad√≠:</label>
                        <div class="checkbox-group">
                            <label><input type="checkbox" name="naradi" value="sekacka"> Sekaƒçka</label>
                            <label><input type="checkbox" name="naradi" value="strihac"> St≈ô√≠haƒç ke≈ô≈Ø</label>
                            <label><input type="checkbox" name="naradi" value="pila"> Pila</label>
                            <label><input type="checkbox" name="naradi" value="lopata"> Lopata</label>
                            <label><input type="checkbox" name="naradi" value="hrabe"> Hr√°bƒõ</label>
                            <label><input type="checkbox" name="naradi" value="kos"> Kosa</label>
                            <label><input type="checkbox" name="naradi" value="stetic"> ≈†tƒõtec/v√°leƒçek</label>
                            <label><input type="checkbox" name="naradi" value="jine"> Jin√©</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="registerDatumNarozeni">Datum narozen√≠:</label>
                        <input type="date" id="registerDatumNarozeni" name="datum_narozeni">
                    </div>
                    <div class="form-group">
                        <label>Voln√© dny:</label>
                        <div class="checkbox-group">
                            <label><input type="checkbox" name="volne_dny" value="pondeli"> Pondƒõl√≠</label>
                            <label><input type="checkbox" name="volne_dny" value="utery"> √öter√Ω</label>
                            <label><input type="checkbox" name="volne_dny" value="streda"> St≈ôeda</label>
                            <label><input type="checkbox" name="volne_dny" value="ctvrtek"> ƒåtvrtek</label>
                            <label><input type="checkbox" name="volne_dny" value="patek"> P√°tek</label>
                            <label><input type="checkbox" name="volne_dny" value="sobota"> Sobota</label>
                            <label><input type="checkbox" name="volne_dny" value="nedele"> Nedƒõle</label>
                        </div>
                    </div>
                </div>

                <!-- Specifick√© √∫daje pro z√°kazn√≠ky -->
                <div id="zakaznikFields" class="form-section hidden">
                    <h3>Nastaven√≠</h3>
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="registerPotrebujePomoc" name="potrebuje_pomoc">
                            Moc tomu nerozum√≠m (aktivuje pomocn√≠ka)
                        </label>
                    </div>
                </div>

                <input type="hidden" id="registerRole" name="role" value="">
                <button type="submit" class="btn-primary" id="registerButton">Registrovat se</button>
                <p class="form-link">Ji≈æ m√°te √∫ƒçet? <a href="#" onclick="closeModal('registerModal'); showLogin()">P≈ôihlaste se</a></p>
            </form>
        </div>
    </div>

    <!-- Email verifikace -->
    <div id="emailVerificationModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Ovƒõ≈ôen√≠ emailu</h2>
                <span class="close" onclick="closeModal('emailVerificationModal')">&times;</span>
            </div>
            <div class="verification-content">
                <div class="verification-icon">üìß</div>
                <h3>Zkontrolujte sv≈Øj email</h3>
                <p>Na v√°≈° email jsme odeslali odkaz pro ovƒõ≈ôen√≠. Kliknƒõte na nƒõj pro dokonƒçen√≠ registrace.</p>
                <button class="btn-secondary" onclick="resendVerification()">Odeslat znovu</button>
            </div>
        </div>
    </div>

    <!-- Dashboard -->
    <div id="dashboard" class="dashboard hidden">
        <div class="dashboard-header">
            <h2 id="dashboardTitle">Dashboard</h2>
            <div class="dashboard-actions">
                <span id="userInfo"></span>
                <button class="btn-secondary" onclick="showProfile()">Profil</button>
                <button class="btn-secondary" onclick="logout()">Odhl√°sit se</button>
            </div>
        </div>
        
        <!-- Z√°kaznick√Ω dashboard -->
        <div id="customerDashboard" class="dashboard-content hidden">
            <div class="dashboard-section">
                <h3>Vytvo≈ôit novou zak√°zku</h3>
                <form id="orderForm" class="form" enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="orderTitle">N√°zev pr√°ce:</label>
                        <input type="text" id="orderTitle" name="title" required>
                    </div>
                    <div class="form-group">
                        <label for="orderDescription">Popis pr√°ce:</label>
                        <textarea id="orderDescription" name="description" rows="4" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="orderAdresa">Adresa:</label>
                        <input type="text" id="orderAdresa" name="adresa" required>
                        <button type="button" class="btn-secondary" onclick="showMap()">Vybrat na mapƒõ</button>
                    </div>
                    <div class="form-group">
                        <label for="orderPhoto">Fotka:</label>
                        <input type="file" id="orderPhoto" name="photo" accept="image/*">
                        <small>AI analyzuje obr√°zek a odhadne cenu pr√°ce</small>
                    </div>
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="orderMaVsePotrebne" name="ma_vse_potrebne">
                            M√°m v≈°e pot≈ôebn√© k proveden√≠ pr√°ce
                        </label>
                    </div>
                    <button type="submit" class="btn-primary">Vytvo≈ôit zak√°zku</button>
                </form>
            </div>
            
            <div class="dashboard-section">
                <h3>Moje zak√°zky</h3>
                <div id="customerOrders" class="orders-list"></div>
            </div>
        </div>

        <!-- Brig√°dnick√Ω dashboard -->
        <div id="workerDashboard" class="dashboard-content hidden">
            <div class="dashboard-section">
                <h3>Dostupn√© zak√°zky</h3>
                <div id="availableOrders" class="orders-list"></div>
            </div>
            
            <div class="dashboard-section">
                <h3>Moje p≈ôijat√© zak√°zky</h3>
                <div id="myOrders" class="orders-list"></div>
            </div>
        </div>

        <!-- Admin dashboard -->
        <div id="adminDashboard" class="dashboard-content hidden">
            <div class="dashboard-section">
                <h3>Statistiky</h3>
                <div id="adminStats" class="stats-grid"></div>
            </div>
            
            <div class="dashboard-section">
                <h3>Schvalov√°n√≠ brig√°dn√≠k≈Ø</h3>
                <div id="pendingWorkers" class="orders-list"></div>
            </div>
            
            <div class="dashboard-section">
                <h3>V≈°ichni u≈æivatel√©</h3>
                <div id="allUsers" class="orders-list"></div>
            </div>
            
            <div class="dashboard-section">
                <h3>V≈°echny zak√°zky</h3>
                <div id="allOrders" class="orders-list"></div>
            </div>
        </div>
    </div>

    <!-- Mapa modal -->
    <div id="mapModal" class="modal">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h2>Vyberte adresu na mapƒõ</h2>
                <span class="close" onclick="closeModal('mapModal')">&times;</span>
            </div>
            <div id="map" style="height: 400px;"></div>
            <div class="map-controls">
                <input type="text" id="mapSearch" placeholder="Vyhledat adresu...">
                <button class="btn-primary" onclick="confirmLocation()">Potvrdit v√Ωbƒõr</button>
            </div>
        </div>
    </div>

    <!-- Profil modal -->
    <div id="profileModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>M≈Øj profil</h2>
                <span class="close" onclick="closeModal('profileModal')">&times;</span>
            </div>
            <form id="profileForm" class="form">
                <div id="profileContent"></div>
                <button type="submit" class="btn-primary">Ulo≈æit zmƒõny</button>
            </form>
        </div>
    </div>

    <!-- Hodnocen√≠ modal -->
    <div id="ratingModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Hodnocen√≠</h2>
                <span class="close" onclick="closeModal('ratingModal')">&times;</span>
            </div>
            <form id="ratingForm" class="form">
                <div class="form-group">
                    <label>Hodnocen√≠ (1-5 hvƒõzdiƒçek):</label>
                    <div class="star-rating">
                        <span class="star" data-rating="1">‚≠ê</span>
                        <span class="star" data-rating="2">‚≠ê</span>
                        <span class="star" data-rating="3">‚≠ê</span>
                        <span class="star" data-rating="4">‚≠ê</span>
                        <span class="star" data-rating="5">‚≠ê</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="ratingComment">Koment√°≈ô:</label>
                    <textarea id="ratingComment" name="comment" rows="3"></textarea>
                </div>
                <input type="hidden" id="ratingOrderId" name="order_id">
                <input type="hidden" id="ratingValue" name="rating" value="5">
                <button type="submit" class="btn-primary">Odeslat hodnocen√≠</button>
            </form>
        </div>
    </div>

    <!-- Notifikace -->
    <div id="notification" class="notification hidden">
        <span id="notificationText"></span>
        <button onclick="hideNotification()">&times;</button>
    </div>

    <!-- Accessibility toolbar -->
    <div class="accessibility-toolbar" role="toolbar" aria-label="N√°stroje p≈ô√≠stupnosti">
        <button class="accessibility-btn" onclick="toggleLargeText()" title="Zvƒõt≈°it/zmen≈°it p√≠smo" aria-label="P≈ôepnout velikost p√≠sma">
            <i class="fas fa-text-height"></i>
        </button>
        <button class="accessibility-btn" onclick="adjustFontSize(true)" title="Zvƒõt≈°it p√≠smo" aria-label="Zvƒõt≈°it p√≠smo">
            <i class="fas fa-plus"></i>
        </button>
        <button class="accessibility-btn" onclick="adjustFontSize(false)" title="Zmen≈°it p√≠smo" aria-label="Zmen≈°it p√≠smo">
            <i class="fas fa-minus"></i>
        </button>
        <button class="accessibility-btn" onclick="toggleHighContrast()" title="Vysok√Ω kontrast" aria-label="P≈ôepnout vysok√Ω kontrast">
            <i class="fas fa-adjust"></i>
        </button>
    </div>

    <!-- Avatar pomocn√≠k -->
    <div id="avatarHelper" class="avatar-helper hidden" role="complementary" aria-live="polite" aria-label="Pomocn√≠k">
        <div class="avatar-icon" id="avatarIcon">ü§ñ</div>
        <div class="avatar-message" id="avatarMessage"></div>
        <button class="avatar-close" onclick="hideAvatar()" aria-label="Zav≈ô√≠t pomocn√≠ka">&times;</button>
    </div>

    <!-- Skip link pro keyboard navigation -->
    <a href="#main-content" class="skip-link">P≈ôej√≠t na hlavn√≠ obsah</a>

    <!-- Leaflet JS pro mapy -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="script.js"></script>
</body>
</html>

